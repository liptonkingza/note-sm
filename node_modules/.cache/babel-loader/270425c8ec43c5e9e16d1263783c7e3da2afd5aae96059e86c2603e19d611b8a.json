{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lipto\\\\Desktop\\\\react\\\\smart-note-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, addDoc, updateDoc, deleteDoc, doc, onSnapshot, query, orderBy, serverTimestamp, Timestamp, arrayUnion } from \"firebase/firestore\";\nimport { getAuth, signInAnonymously, onAuthStateChanged } from \"firebase/auth\";\nimport { Pencil, Save, Trash2, Search, Calendar, Sparkles, Plus, X, Loader2, Bot, Maximize2, Minimize2, Clock, Check, Users, LogOut, KeyRound, AlertCircle } from \"lucide-react\";\n\n// --- à¸ªà¹ˆà¸§à¸™à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² (à¸•à¹‰à¸­à¸‡à¹à¸à¹‰à¹„à¸‚à¸•à¸£à¸‡à¸™à¸µà¹‰à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ˆà¸£à¸´à¸‡) ---\n// 1. à¹„à¸›à¸—à¸µà¹ˆ console.firebase.google.com à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¹ƒà¸«à¸¡à¹ˆ\n// 2. à¸ªà¸£à¹‰à¸²à¸‡ Web App à¹à¸¥à¸°à¸à¹Šà¸­à¸›à¸›à¸µà¹‰à¸„à¹ˆà¸² config à¸¡à¸²à¹ƒà¸ªà¹ˆà¹à¸—à¸™à¸—à¸µà¹ˆà¸•à¸£à¸‡à¸™à¸µà¹‰à¸„à¸£à¸±à¸š\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBC2seZeDwSnzQv74OxfUap3IilWZi2oUA\",\n  // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n  authDomain: \"zoom-smart-note.firebaseapp.com\",\n  // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n  projectId: \"zoom-smart-note\",\n  // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n  storageBucket: \"zoom-smart-note.firebasestorage.app\",\n  // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n  messagingSenderId: \"391568270505\",\n  // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n  appId: \"1:391568270505:web:f523347b05de36288df5b8\" // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n};\n\n// --- API Key à¸‚à¸­à¸‡ Gemini AI (à¹ƒà¸ªà¹ˆà¸•à¸£à¸‡à¸™à¸µà¹‰) ---\n// à¹„à¸›à¸‚à¸­à¸Ÿà¸£à¸µà¹„à¸”à¹‰à¸—à¸µà¹ˆ aistudio.google.com\nconst GEMINI_API_KEY = \"AIzaSyCH7dU_lGn71g2m0zQuk4flmcyp8QfPqk0\";\n\n// --- à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸£à¸°à¸šà¸š ---\nconst isConfigured = firebaseConfig.apiKey && !firebaseConfig.apiKey.includes(\"AIzaSy...\");\nlet app, auth, db;\nif (isConfigured) {\n  try {\n    app = initializeApp(firebaseConfig);\n    auth = getAuth(app);\n    db = getFirestore(app);\n  } catch (e) {\n    console.error(\"Firebase Init Error:\", e);\n  }\n}\nconst appId = \"smart-note-production\";\n\n// --- AI Service ---\nconst callGeminiAI = async text => {\n  if (!GEMINI_API_KEY) {\n    alert(\"à¸à¸£à¸¸à¸“à¸²à¹ƒà¸ªà¹ˆ GEMINI_API_KEY à¹ƒà¸™à¹‚à¸„à¹‰à¸”à¸à¹ˆà¸­à¸™à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ AI à¸„à¸£à¸±à¸š\");\n    return [{\n      title: \"AI Setup Needed\",\n      category: \"à¸—à¸±à¹ˆà¸§à¹„à¸›\",\n      summary: \"Please configure API Key\"\n    }];\n  }\n  const systemPrompt = `\n    Role: à¸„à¸¸à¸“à¸„à¸·à¸­à¹€à¸¥à¸‚à¸²à¸­à¸±à¸ˆà¸‰à¸£à¸´à¸¢à¸°à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§\n    Task: à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸”à¸´à¸šà¹à¸¥à¹‰à¸§ \"à¹à¸¢à¸à¸«à¸±à¸§à¸‚à¹‰à¸­\" (Split Topics)\n    Instructions:\n    1. à¹à¸¢à¸à¸›à¸£à¸°à¹€à¸”à¹‡à¸™à¹ƒà¸™à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸­à¸­à¸à¹€à¸›à¹‡à¸™à¹‚à¸™à¹‰à¸•à¸¢à¹ˆà¸­à¸¢à¹†\n    2. à¹à¸•à¹ˆà¸¥à¸°à¹‚à¸™à¹‰à¸•à¸•à¹‰à¸­à¸‡à¸¡à¸µ format:\n       - \"title\": à¸Šà¸·à¹ˆà¸­à¹€à¸£à¸·à¹ˆà¸­à¸‡ (à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 10 à¸„à¸³)\n       - \"category\": à¹€à¸¥à¸·à¸­à¸à¸ˆà¸²à¸ [\"à¸›à¸£à¸°à¸Šà¸¸à¸¡\", \"à¸à¸²à¸£à¹€à¸‡à¸´à¸™\", \"à¹„à¸­à¹€à¸”à¸µà¸¢à¸˜à¸¸à¸£à¸à¸´à¸ˆ\", \"à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§\", \"à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§\", \"à¸ªà¸¸à¸‚à¸ à¸²à¸ž\", \"à¸—à¸±à¹ˆà¸§à¹„à¸›\"]\n       - \"summary\": à¸ªà¸£à¸¸à¸›à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰ **Numbered List (1. 2. 3.)** à¸ªà¸³à¸«à¸£à¸±à¸šà¸‚à¸±à¹‰à¸™à¸•à¸­à¸™ à¹à¸¥à¸° **Bullet points (-)** à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸²à¸¢à¸à¸²à¸£à¸—à¸±à¹ˆà¸§à¹„à¸›\n    Output Format: JSON object with key \"notes\" (array of objects).\n  `;\n  try {\n    var _data$candidates, _data$candidates$, _data$candidates$$con, _data$candidates$$con2, _data$candidates$$con3;\n    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${GEMINI_API_KEY}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        contents: [{\n          parts: [{\n            text: systemPrompt\n          }, {\n            text: `Raw Input: \"${text}\"`\n          }]\n        }],\n        generationConfig: {\n          responseMimeType: \"application/json\"\n        }\n      })\n    });\n    if (!response.ok) throw new Error(\"AI Request Failed\");\n    const data = await response.json();\n    let resultText = (_data$candidates = data.candidates) === null || _data$candidates === void 0 ? void 0 : (_data$candidates$ = _data$candidates[0]) === null || _data$candidates$ === void 0 ? void 0 : (_data$candidates$$con = _data$candidates$.content) === null || _data$candidates$$con === void 0 ? void 0 : (_data$candidates$$con2 = _data$candidates$$con.parts) === null || _data$candidates$$con2 === void 0 ? void 0 : (_data$candidates$$con3 = _data$candidates$$con2[0]) === null || _data$candidates$$con3 === void 0 ? void 0 : _data$candidates$$con3.text;\n\n    // Robust parsing\n    const firstBrace = resultText.indexOf(\"{\");\n    const lastBrace = resultText.lastIndexOf(\"}\");\n    if (firstBrace !== -1 && lastBrace !== -1) {\n      resultText = resultText.substring(firstBrace, lastBrace + 1);\n    }\n    const parsedData = JSON.parse(resultText);\n    const notesRaw = Array.isArray(parsedData.notes) ? parsedData.notes : [parsedData];\n    return notesRaw.map(n => {\n      let cleanSummary = \"\";\n      if (typeof n.summary === \"string\") {\n        cleanSummary = n.summary;\n      } else if (Array.isArray(n.summary)) {\n        cleanSummary = n.summary.join(\"\\n\");\n      } else {\n        cleanSummary = JSON.stringify(n.summary || \"\");\n      }\n      return {\n        title: typeof n.title === \"string\" ? n.title : \"à¹„à¸¡à¹ˆà¸¡à¸µà¸Šà¸·à¹ˆà¸­à¹€à¸£à¸·à¹ˆà¸­à¸‡\",\n        category: typeof n.category === \"string\" ? n.category : \"à¸—à¸±à¹ˆà¸§à¹„à¸›\",\n        summary: cleanSummary\n      };\n    });\n  } catch (error) {\n    console.error(\"AI Error:\", error);\n    return [{\n      title: \"à¸šà¸±à¸™à¸—à¸¶à¸à¸‰à¸šà¸±à¸šà¸£à¹ˆà¸²à¸‡ (AI à¸‚à¸±à¸”à¸‚à¹‰à¸­à¸‡)\",\n      summary: \"ðŸ“Œ à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹€à¸”à¸´à¸¡\\n- \" + text,\n      category: \"à¸—à¸±à¹ˆà¸§à¹„à¸›\"\n    }];\n  }\n};\nconst formatDateThai = timestamp => {\n  if (!timestamp) return \"\";\n  try {\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n    if (isNaN(date.getTime())) return \"\";\n    return date.toLocaleDateString(\"th-TH\", {\n      day: \"numeric\",\n      month: \"short\",\n      year: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    });\n  } catch (e) {\n    return \"\";\n  }\n};\nconst formatTimeThai = timestamp => {\n  if (!timestamp) return \"\";\n  try {\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n    if (isNaN(date.getTime())) return \"\";\n    return date.toLocaleTimeString(\"th-TH\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    });\n  } catch (e) {\n    return \"\";\n  }\n};\nconst toDateTimeLocal = timestamp => {\n  if (!timestamp) return \"\";\n  try {\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n    if (isNaN(date.getTime())) return \"\";\n    const tzOffset = date.getTimezoneOffset() * 60000;\n    return new Date(date - tzOffset).toISOString().slice(0, 16);\n  } catch (e) {\n    return \"\";\n  }\n};\n\n// --- Components ---\n\nconst AccessScreen = ({\n  onJoin\n}) => {\n  _s();\n  const [code, setCode] = useState(\"\");\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (code.trim()) {\n      onJoin(code.trim());\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 font-sans\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-3xl shadow-xl w-full max-w-md text-center border border-slate-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6\",\n        children: /*#__PURE__*/_jsxDEV(KeyRound, {\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-slate-800 mb-2\",\n        children: \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E17\\u0E33\\u0E07\\u0E32\\u0E19\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-slate-500 mb-6 text-sm\",\n        children: [\"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E02\\u0E49\\u0E32\\u0E16\\u0E36\\u0E07\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), \"(\\u0E40\\u0E0A\\u0E48\\u0E19 \\\"Zoom2026\\\")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: code,\n          onChange: e => setCode(e.target.value),\n          placeholder: \"\\u0E15\\u0E31\\u0E49\\u0E07\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2B\\u0E49\\u0E2D\\u0E07 \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E43\\u0E2A\\u0E48\\u0E23\\u0E2B\\u0E31\\u0E2A...\",\n          className: \"w-full px-4 py-3 text-center text-lg border-2 border-slate-200 rounded-xl focus:border-indigo-500 focus:outline-none transition-colors\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !code.trim(),\n          className: \"w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200\",\n          children: \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n};\n_s(AccessScreen, \"IyWYJSZmPOQ025EjfLsvo6LmHmg=\");\n_c = AccessScreen;\nconst ConfigScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"min-h-screen flex items-center justify-center bg-slate-100 p-4 font-sans\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-8 rounded-xl shadow-lg max-w-lg text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mb-4 text-red-500\",\n      children: /*#__PURE__*/_jsxDEV(AlertCircle, {\n        size: 32\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-xl font-bold text-red-500 mb-4\",\n      children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E15\\u0E31\\u0E49\\u0E07\\u0E04\\u0E48\\u0E32 Firebase\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-slate-600 mb-4 leading-relaxed\",\n      children: [\"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E44\\u0E1F\\u0E25\\u0E4C \", /*#__PURE__*/_jsxDEV(\"code\", {\n        children: \"App.jsx\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 24\n      }, this), \" \\u0E41\\u0E25\\u0E30\\u0E43\\u0E2A\\u0E48\\u0E04\\u0E48\\u0E32\", \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n        children: \"firebaseConfig\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), \" (\\u0E08\\u0E32\\u0E01 Firebase) \\u0E41\\u0E25\\u0E30\", \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n        children: \"GEMINI_API_KEY\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), \" (\\u0E08\\u0E32\\u0E01 AI Studio) \\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E43\\u0E2B\\u0E49\\u0E41\\u0E2D\\u0E1E\\u0E17\\u0E33\\u0E07\\u0E32\\u0E19\\u0E44\\u0E14\\u0E49\\u0E04\\u0E23\\u0E31\\u0E1A\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-slate-400\",\n      children: \"(\\u0E14\\u0E39\\u0E27\\u0E34\\u0E18\\u0E35\\u0E01\\u0E32\\u0E23\\u0E43\\u0E19\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E04\\u0E39\\u0E48\\u0E21\\u0E37\\u0E2D\\u0E01\\u0E32\\u0E23\\u0E15\\u0E34\\u0E14\\u0E15\\u0E31\\u0E49\\u0E07\\u0E17\\u0E35\\u0E48\\u0E1C\\u0E21\\u0E43\\u0E2B\\u0E49\\u0E44\\u0E1B\\u0E04\\u0E23\\u0E31\\u0E1A)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 251,\n  columnNumber: 3\n}, this);\n_c2 = ConfigScreen;\nconst FormattedText = ({\n  text\n}) => {\n  if (!text) return null;\n  let content = text;\n  if (typeof text !== \"string\") {\n    if (Array.isArray(text)) content = text.join(\"\\n\");else if (typeof text === \"object\") content = JSON.stringify(text);else content = String(text);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-1\",\n    children: content.split(\"\\n\").map((line, index) => {\n      const trimmed = line.trim();\n      if (!trimmed) return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-2\"\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 30\n      }, this);\n      const isHeader = trimmed.startsWith(\"ðŸ“Œ\") || trimmed.startsWith(\"ðŸ“\") || trimmed.match(/^à¸«à¸±à¸§à¸‚à¹‰à¸­/);\n      const isNumberList = trimmed.match(/^\\d+\\./);\n      const isBullet = trimmed.startsWith(\"-\") || trimmed.startsWith(\"â€¢\") || trimmed.startsWith(\"*\");\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `\n            ${isHeader ? \"font-bold text-indigo-900 mt-4 mb-2 text-base\" : \"text-slate-600\"} \n            ${isNumberList || isBullet ? \"pl-4\" : \"pl-0\"}\n            leading-relaxed\n          `,\n        children: line\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 5\n  }, this);\n};\n_c3 = FormattedText;\nconst FullScreenEditor = ({\n  note,\n  onClose,\n  onSave,\n  categoriesList\n}) => {\n  _s2();\n  var _note$history;\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [category, setCategory] = useState(\"à¸—à¸±à¹ˆà¸§à¹„à¸›\");\n  const [createdAt, setCreatedAt] = useState(\"\");\n  const [isEditingCategory, setIsEditingCategory] = useState(false);\n  const [tempCategoryName, setTempCategoryName] = useState(\"\");\n  useEffect(() => {\n    if (note) {\n      setTitle(typeof note.title === \"string\" ? note.title : \"\");\n      let safeContent = \"\";\n      if (typeof note.summary === \"string\") safeContent = note.summary;else if (Array.isArray(note.summary)) safeContent = note.summary.join(\"\\n\");else safeContent = JSON.stringify(note.summary || \"\");\n      setContent(safeContent);\n      setCategory(typeof note.category === \"string\" ? note.category : \"à¸—à¸±à¹ˆà¸§à¹„à¸›\");\n      setCreatedAt(toDateTimeLocal(note.createdAt));\n    }\n  }, [note]);\n  const handleSave = () => {\n    let timestamp = note.createdAt;\n    if (createdAt) {\n      try {\n        timestamp = Timestamp.fromDate(new Date(createdAt));\n      } catch (e) {\n        console.error(\"Invalid date\");\n      }\n    }\n    onSave(note.id, {\n      title,\n      summary: content,\n      category,\n      createdAt: timestamp\n    });\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 bg-white/95 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in zoom-in-95 duration-200 font-sans\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white w-full max-w-4xl h-[95vh] rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b flex justify-between items-center bg-slate-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-indigo-100 p-2 rounded-lg text-indigo-600\",\n            children: /*#__PURE__*/_jsxDEV(Maximize2, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"font-bold text-slate-800\",\n              children: \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E41\\u0E1A\\u0E1A\\u0E40\\u0E15\\u0E47\\u0E21\\u0E08\\u0E2D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-slate-500\",\n              children: ((_note$history = note.history) === null || _note$history === void 0 ? void 0 : _note$history.length) > 0 ? `à¹à¸à¹‰à¹„à¸‚à¹à¸¥à¹‰à¸§ ${note.history.length} à¸„à¸£à¸±à¹‰à¸‡` : \"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-2 hover:bg-slate-200 rounded-full text-slate-500\",\n          children: /*#__PURE__*/_jsxDEV(Minimize2, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-8 space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block\",\n              children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E41\\u0E25\\u0E30\\u0E40\\u0E27\\u0E25\\u0E32\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 bg-slate-50 p-2 rounded-xl border border-slate-200 focus-within:ring-2 focus-within:ring-indigo-100\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                size: 18,\n                className: \"text-slate-400 ml-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"datetime-local\",\n                value: createdAt,\n                onChange: e => setCreatedAt(e.target.value),\n                className: \"bg-transparent border-none focus:outline-none text-slate-700 w-full font-medium\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block\",\n              children: \"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48 (\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E44\\u0E14\\u0E49)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this), isEditingCategory ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 h-[42px]\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                value: tempCategoryName,\n                onChange: e => setTempCategoryName(e.target.value),\n                className: \"flex-1 border border-indigo-300 rounded-lg px-3 py-2 text-sm focus:outline-indigo-500\",\n                placeholder: \"\\u0E1E\\u0E34\\u0E21\\u0E1E\\u0E4C\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48...\",\n                autoFocus: true,\n                onKeyDown: e => {\n                  if (e.key === \"Enter\") {\n                    if (tempCategoryName.trim()) setCategory(tempCategoryName.trim());\n                    setIsEditingCategory(false);\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  if (tempCategoryName.trim()) setCategory(tempCategoryName.trim());\n                  setIsEditingCategory(false);\n                },\n                className: \"p-2 bg-green-500 text-white rounded-lg hover:bg-green-600\",\n                children: /*#__PURE__*/_jsxDEV(Check, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIsEditingCategory(false),\n                className: \"p-2 bg-slate-200 text-slate-500 rounded-lg hover:bg-slate-300\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between gap-3 bg-indigo-50 border border-indigo-200 text-indigo-700 px-3 py-2 rounded-lg font-medium text-sm w-full md:w-auto min-w-[150px]\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setTempCategoryName(category);\n                      setIsEditingCategory(true);\n                    },\n                    className: \"hover:bg-indigo-200 rounded p-1 text-indigo-400 hover:text-indigo-700 transition-colors\",\n                    title: \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\",\n                    children: /*#__PURE__*/_jsxDEV(Pencil, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 444,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2 flex-wrap mt-1\",\n                children: [categoriesList.filter(c => c !== category).slice(0, 5).map(cat => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setCategory(cat),\n                  className: \"px-2 py-1 rounded text-xs bg-slate-100 text-slate-500 hover:bg-slate-200 transition-colors border border-transparent\",\n                  children: cat\n                }, cat, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 25\n                }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setTempCategoryName(\"\");\n                    setIsEditingCategory(true);\n                  },\n                  className: \"px-2 py-1 rounded text-xs border border-dashed border-slate-300 text-slate-400 hover:text-indigo-600 hover:border-indigo-400 flex items-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(Plus, {\n                    size: 10\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 23\n                  }, this), \" \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E43\\u0E2B\\u0E21\\u0E48\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"border-slate-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block\",\n            children: \"\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E40\\u0E23\\u0E37\\u0E48\\u0E2D\\u0E07\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: title,\n            onChange: e => setTitle(e.target.value),\n            className: \"w-full text-3xl font-bold text-slate-900 border-b-2 border-slate-100 focus:border-indigo-500 focus:outline-none pb-2 placeholder-slate-300 transition-colors\",\n            placeholder: \"\\u0E43\\u0E2A\\u0E48\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E23\\u0E37\\u0E48\\u0E2D\\u0E07...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block\",\n            children: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14 (1. 2. 3. \\u0E2B\\u0E23\\u0E37\\u0E2D -)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: content,\n            onChange: e => setContent(e.target.value),\n            className: \"w-full h-[400px] text-lg text-slate-700 leading-relaxed resize-none focus:outline-none p-4 -ml-4 rounded-xl border border-transparent focus:border-slate-100 focus:bg-slate-50 transition-all font-sans\",\n            placeholder: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-t bg-slate-50 flex justify-end gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-6 py-2.5 rounded-xl text-slate-500 hover:bg-slate-200 font-medium transition-colors\",\n          children: \"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"px-6 py-2.5 rounded-xl bg-indigo-600 text-white shadow-lg shadow-indigo-200 hover:bg-indigo-700 font-medium transition-all flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 13\n          }, this), \" \\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E41\\u0E25\\u0E30\\u0E2A\\u0E33\\u0E23\\u0E2D\\u0E07\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 5\n  }, this);\n};\n_s2(FullScreenEditor, \"wnRiez4P+iOoDq3bDoaDW0UsdAs=\");\n_c4 = FullScreenEditor;\nconst NoteCard = ({\n  note,\n  onEdit,\n  onDelete,\n  onExpand\n}) => {\n  _s3();\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedTitle, setEditedTitle] = useState(\"\");\n  const [editedContent, setEditedContent] = useState(\"\");\n  useEffect(() => {\n    setEditedTitle(typeof note.title === \"string\" ? note.title : \"\");\n    let safeContent = \"\";\n    if (typeof note.summary === \"string\") safeContent = note.summary;else if (Array.isArray(note.summary)) safeContent = note.summary.join(\"\\n\");else safeContent = JSON.stringify(note.summary || \"\");\n    setEditedContent(safeContent);\n  }, [note]);\n  const handleQuickSave = () => {\n    onEdit(note.id, {\n      title: editedTitle,\n      summary: editedContent\n    });\n    setIsEditing(false);\n  };\n  const categoryColors = {\n    à¸›à¸£à¸°à¸Šà¸¸à¸¡: \"bg-blue-50 border-blue-200 text-blue-700\",\n    à¸à¸²à¸£à¹€à¸‡à¸´à¸™: \"bg-green-50 border-green-200 text-green-700\",\n    à¹„à¸­à¹€à¸”à¸µà¸¢à¸˜à¸¸à¸£à¸à¸´à¸ˆ: \"bg-amber-50 border-amber-200 text-amber-700\",\n    à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§: \"bg-pink-50 border-pink-200 text-pink-700\",\n    à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§: \"bg-purple-50 border-purple-200 text-purple-700\",\n    à¸ªà¸¸à¸‚à¸ à¸²à¸ž: \"bg-teal-50 border-teal-200 text-teal-700\",\n    à¸—à¸±à¹ˆà¸§à¹„à¸›: \"bg-gray-50 border-gray-200 text-gray-700\"\n  };\n  const themeClass = categoryColors[note.category] || \"bg-indigo-50 border-indigo-200 text-indigo-700\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `group relative flex flex-col p-5 rounded-2xl border bg-white transition-all duration-300 hover:-translate-y-1 hover:shadow-lg ${isEditing ? \"z-10 ring-2 ring-indigo-500\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-start mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: `text-[10px] uppercase tracking-wide font-bold px-2.5 py-1 rounded-md border ${themeClass}`,\n        children: typeof note.category === \"string\" ? note.category : \"à¸—à¸±à¹ˆà¸§à¹„à¸›\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            onExpand(note);\n          },\n          className: \"p-1.5 hover:bg-indigo-50 hover:text-indigo-600 rounded-full text-gray-400 transition-colors\",\n          title: \"\\u0E14\\u0E39\\u0E40\\u0E15\\u0E47\\u0E21\\u0E08\\u0E2D\",\n          children: /*#__PURE__*/_jsxDEV(Maximize2, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            setIsEditing(!isEditing);\n          },\n          className: \"p-1.5 hover:bg-gray-100 rounded-full text-gray-400 transition-colors\",\n          title: \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E14\\u0E48\\u0E27\\u0E19\",\n          children: /*#__PURE__*/_jsxDEV(Pencil, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            onDelete(note.id);\n          },\n          className: \"p-1.5 hover:bg-red-50 hover:text-red-500 rounded-full text-gray-400 transition-colors\",\n          title: \"\\u0E25\\u0E1A\",\n          children: /*#__PURE__*/_jsxDEV(Trash2, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3 flex-1\",\n      children: isEditing ? /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: editedTitle,\n          onChange: e => setEditedTitle(e.target.value),\n          className: \"w-full font-bold text-gray-900 text-lg border-b pb-1 focus:outline-none focus:border-indigo-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: editedContent,\n          onChange: e => setEditedContent(e.target.value),\n          className: \"w-full text-sm text-gray-700 resize-none focus:outline-none bg-gray-50 p-2 rounded-lg border border-transparent focus:border-indigo-200 font-sans\",\n          rows: 6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2 mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsEditing(false),\n            className: \"px-3 py-1 text-xs text-gray-500\",\n            children: \"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleQuickSave,\n            className: \"px-3 py-1 text-xs bg-indigo-600 text-white rounded-md\",\n            children: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => onExpand(note),\n        className: \"cursor-pointer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-gray-900 text-lg mb-2 leading-tight hover:text-indigo-700 transition-colors\",\n          children: typeof note.title === \"string\" ? note.title : \"à¹„à¸¡à¹ˆà¸¡à¸µà¸«à¸±à¸§à¸‚à¹‰à¸­\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm line-clamp-6\",\n          children: /*#__PURE__*/_jsxDEV(FormattedText, {\n            text: note.summary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 7\n    }, this), !isEditing && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-5 pt-3 border-t border-gray-100 flex items-center justify-between text-xs text-gray-400 font-medium\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(Calendar, {\n          size: 12\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 13\n        }, this), formatDateThai(note.createdAt)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 12\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 13\n        }, this), formatTimeThai(note.createdAt)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 652,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 565,\n    columnNumber: 5\n  }, this);\n};\n_s3(NoteCard, \"cOBreaJd3IT/IwYagijHdn+Bz9k=\");\n_c5 = NoteCard;\nexport default function SmartNoteApp() {\n  _s4();\n  // --- All hooks must be called first, before any conditional returns ---\n  const [user, setUser] = useState(null);\n  const [accessCode, setAccessCode] = useState(() => localStorage.getItem(\"zoom_note_access_code\") || \"\");\n  const [inputMode, setInputMode] = useState(false);\n  const [rawText, setRawText] = useState(\"\");\n  const [notes, setNotes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”\");\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const [expandedNote, setExpandedNote] = useState(null);\n  const baseCategories = [\"à¸›à¸£à¸°à¸Šà¸¸à¸¡\", \"à¸à¸²à¸£à¹€à¸‡à¸´à¸™\", \"à¹„à¸­à¹€à¸”à¸µà¸¢à¸˜à¸¸à¸£à¸à¸´à¸ˆ\", \"à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§\", \"à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§\", \"à¸ªà¸¸à¸‚à¸ à¸²à¸ž\", \"à¸—à¸±à¹ˆà¸§à¹„à¸›\"];\n  const categoriesList = useMemo(() => {\n    const noteCategories = notes.map(n => n.category).filter(c => typeof c === \"string\");\n    return [...new Set([...baseCategories, ...noteCategories])];\n  }, [notes]);\n\n  // --- Auto-inject Tailwind for CodeSandbox ---\n  useEffect(() => {\n    if (!document.getElementById(\"tailwind-script\")) {\n      const script = document.createElement(\"script\");\n      script.src = \"https://cdn.tailwindcss.com\";\n      script.id = \"tailwind-script\";\n      document.head.appendChild(script);\n    }\n  }, []);\n  useEffect(() => {\n    if (!isConfigured) return;\n    const initAuth = async () => {\n      await signInAnonymously(auth);\n    };\n    initAuth();\n    const unsubscribe = onAuthStateChanged(auth, setUser);\n    return () => unsubscribe();\n  }, []);\n\n  // Sync Access Code to Public Collection\n  useEffect(() => {\n    if (!isConfigured || !user || !accessCode) {\n      if (!accessCode) setLoading(false);\n      return;\n    }\n    setLoading(true);\n    // Use PUBLIC path with accessCode as a key\n    const collectionPath = `smart_notes_shared_${accessCode.replace(/[^a-zA-Z0-9]/g, \"_\")}`;\n    const q = query(collection(db, \"artifacts\", appId, \"public\", \"data\", collectionPath), orderBy(\"createdAt\", \"desc\"));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      const notesData = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setNotes(notesData);\n      setLoading(false);\n    }, error => {\n      console.error(error);\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, [user, accessCode]);\n  const handleJoinSpace = code => {\n    setAccessCode(code);\n    localStorage.setItem(\"zoom_note_access_code\", code);\n  };\n  const handleLogoutSpace = () => {\n    setAccessCode(\"\");\n    localStorage.removeItem(\"zoom_note_access_code\");\n    setNotes([]);\n  };\n  const getCollectionPath = () => {\n    return `smart_notes_shared_${accessCode.replace(/[^a-zA-Z0-9]/g, \"_\")}`;\n  };\n  const handleProcessNote = async () => {\n    if (!rawText.trim()) return;\n    setIsProcessing(true);\n    const notesArray = await callGeminiAI(rawText);\n    try {\n      const colPath = getCollectionPath();\n      const promises = notesArray.map(noteData => addDoc(collection(db, \"artifacts\", appId, \"public\", \"data\", colPath), {\n        ...noteData,\n        rawContent: rawText,\n        createdAt: serverTimestamp(),\n        isProcessed: true,\n        history: [],\n        createdBy: user.uid\n      }));\n      await Promise.all(promises);\n      setRawText(\"\");\n      setInputMode(false);\n    } catch (error) {\n      console.error(error);\n      alert(\"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸\");\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const handleUpdateNote = async (id, newData) => {\n    try {\n      const oldNote = notes.find(n => n.id === id);\n      if (!oldNote) return;\n      const historySnapshot = {\n        title: oldNote.title,\n        summary: oldNote.summary,\n        category: oldNote.category,\n        editedAt: new Date().toISOString()\n      };\n      const colPath = getCollectionPath();\n      await updateDoc(doc(db, \"artifacts\", appId, \"public\", \"data\", colPath, id), {\n        ...newData,\n        history: arrayUnion(historySnapshot)\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const handleDeleteNote = async id => {\n    if (window.confirm(\"à¸„à¸¸à¸“à¹à¸™à¹ˆà¹ƒà¸ˆà¸§à¹ˆà¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸šà¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸µà¹‰? (à¸¥à¸šà¹à¸¥à¹‰à¸§à¸à¸¹à¹‰à¸„à¸·à¸™à¹„à¸¡à¹ˆà¹„à¸”à¹‰)\")) {\n      try {\n        const colPath = getCollectionPath();\n        await deleteDoc(doc(db, \"artifacts\", appId, \"public\", \"data\", colPath, id));\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n  const filteredNotes = useMemo(() => {\n    return notes.filter(note => {\n      const safeTitle = typeof note.title === \"string\" ? note.title : \"\";\n      const safeSummary = typeof note.summary === \"string\" ? note.summary : \"\";\n      const matchesSearch = (safeTitle + safeSummary).toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesCategory = selectedCategory === \"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”\" || note.category === selectedCategory;\n      let matchesDate = true;\n      if (selectedDate && note.createdAt) {\n        try {\n          const noteDate = note.createdAt.toDate ? note.createdAt.toDate() : new Date(note.createdAt);\n          const noteDateString = noteDate.toISOString().split(\"T\")[0];\n          matchesDate = noteDateString === selectedDate;\n        } catch (e) {\n          matchesDate = false;\n        }\n      }\n      return matchesSearch && matchesCategory && matchesDate;\n    });\n  }, [notes, searchQuery, selectedCategory, selectedDate]);\n\n  // --- Now conditional returns are safe ---\n  if (!isConfigured) return /*#__PURE__*/_jsxDEV(ConfigScreen, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 868,\n    columnNumber: 29\n  }, this);\n  if (!accessCode) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(AccessScreen, {\n        onJoin: handleJoinSpace\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 873,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen flex items-center justify-center text-indigo-600 bg-white font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(Loader2, {\n      className: \"animate-spin mr-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 881,\n      columnNumber: 9\n    }, this), \" \\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E2B\\u0E49\\u0E2D\\u0E07 \", accessCode, \"...\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 880,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-slate-50 text-slate-800 font-sans\",\n    children: [expandedNote && /*#__PURE__*/_jsxDEV(FullScreenEditor, {\n      note: expandedNote,\n      onClose: () => setExpandedNote(null),\n      onSave: handleUpdateNote,\n      categoriesList: categoriesList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 889,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"sticky top-0 z-30 bg-white/90 backdrop-blur-xl border-b border-slate-200 px-6 py-4 flex items-center justify-between shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-indigo-600 text-white p-2 rounded-xl shadow-lg shadow-indigo-200\",\n          children: /*#__PURE__*/_jsxDEV(Bot, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 899,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"font-bold text-xl text-slate-900 tracking-tight flex items-center gap-2\",\n            children: [accessCode, /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded-full font-normal\",\n              children: \"Shared Space\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 905,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 903,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs font-medium text-slate-500\",\n            children: \"\\u0E40\\u0E25\\u0E02\\u0E32\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E15\\u0E31\\u0E27\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\\u0E0B\\u0E39\\u0E21\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 902,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 898,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [!inputMode && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setInputMode(true),\n          className: \"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-full shadow-lg shadow-indigo-300/50 flex items-center gap-2 transition-all active:scale-95 transform hover:-translate-y-0.5\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 921,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden sm:inline font-medium\",\n            children: \"\\u0E08\\u0E14\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 917,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogoutSpace,\n          className: \"bg-slate-100 hover:bg-slate-200 text-slate-600 p-2.5 rounded-full transition-colors\",\n          title: \"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E2B\\u0E49\\u0E2D\\u0E07\",\n          children: /*#__PURE__*/_jsxDEV(LogOut, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 930,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 925,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 915,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 897,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-7xl mx-auto p-4 md:p-8\",\n      children: inputMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-3xl mx-auto animate-in fade-in slide-in-from-bottom-8 duration-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(Bot, {\n              size: 20,\n              className: \"text-indigo-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 940,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 939,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-4 rounded-2xl rounded-tl-none shadow-sm border border-slate-100 text-slate-700\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u0E1E\\u0E23\\u0E49\\u0E2D\\u0E21\\u0E04\\u0E23\\u0E31\\u0E1A! \\u0E1E\\u0E34\\u0E21\\u0E1E\\u0E4C\\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E14\\u0E34\\u0E1A\\u0E21\\u0E32\\u0E44\\u0E14\\u0E49\\u0E40\\u0E25\\u0E22 \\u0E40\\u0E14\\u0E35\\u0E4B\\u0E22\\u0E27\\u0E1C\\u0E21\\u0E41\\u0E22\\u0E01\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E43\\u0E2B\\u0E49\\u0E2D\\u0E31\\u0E15\\u0E42\\u0E19\\u0E21\\u0E31\\u0E15\\u0E34 (\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E19\\u0E35\\u0E49\\u0E08\\u0E30\\u0E40\\u0E2B\\u0E47\\u0E19\\u0E17\\u0E38\\u0E01\\u0E04\\u0E19\\u0E43\\u0E19\\u0E2B\\u0E49\\u0E2D\\u0E07\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: accessCode\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 946,\n                columnNumber: 19\n              }, this), \" \\u0E04\\u0E23\\u0E31\\u0E1A)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 943,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 942,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 938,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-3xl shadow-xl shadow-slate-200/50 overflow-hidden border border-slate-100 relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-4 right-4 z-10\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => !isProcessing && setInputMode(false),\n              className: \"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-slate-600 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 957,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 953,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: rawText,\n            onChange: e => setRawText(e.target.value),\n            disabled: isProcessing,\n            placeholder: \"\\u0E1E\\u0E34\\u0E21\\u0E1E\\u0E4C\\u0E17\\u0E35\\u0E48\\u0E19\\u0E35\\u0E48...\",\n            className: \"w-full h-[320px] p-6 text-lg text-slate-700 placeholder:text-slate-300 resize-none focus:outline-none leading-relaxed\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 961,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 bg-slate-50 border-t border-slate-100 flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-slate-400 pl-2\",\n              children: rawText.length > 0 ? `${rawText.length} à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£` : \"à¸£à¸­à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 971,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleProcessNote,\n              disabled: !rawText.trim() || isProcessing,\n              className: \"bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white px-6 py-3 rounded-xl font-medium shadow-lg hover:shadow-xl transition-all flex items-center gap-2 active:scale-95\",\n              children: isProcessing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                  size: 18,\n                  className: \"animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 984,\n                  columnNumber: 23\n                }, this), \" \", \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E1B\\u0E23\\u0E30\\u0E21\\u0E27\\u0E25\\u0E1C\\u0E25...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 989,\n                  columnNumber: 23\n                }, this), \" \\u0E2A\\u0E23\\u0E38\\u0E1B\\u0E41\\u0E25\\u0E30\\u0E41\\u0E22\\u0E01\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E17\\u0E31\\u0E19\\u0E17\\u0E35\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 977,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 970,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 951,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 937,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col xl:flex-row gap-4 justify-between bg-white p-4 rounded-2xl shadow-sm border border-slate-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col sm:flex-row gap-3 w-full xl:w-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3 bg-slate-50 rounded-xl px-4 py-2.5 border border-slate-200 focus-within:ring-2 focus-within:ring-indigo-100 transition-all flex-1 sm:flex-none sm:w-64\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                size: 18,\n                className: \"text-slate-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1001,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32...\",\n                value: searchQuery,\n                onChange: e => setSearchQuery(e.target.value),\n                className: \"bg-transparent border-none focus:outline-none text-sm w-full text-slate-700\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1002,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1000,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 bg-slate-50 rounded-xl px-4 py-2.5 border border-slate-200 text-slate-600 hover:bg-white transition-colors cursor-pointer w-full sm:w-auto\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                size: 18,\n                className: \"text-slate-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1012,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: selectedDate,\n                onChange: e => setSelectedDate(e.target.value),\n                className: \"bg-transparent border-none focus:outline-none text-sm text-slate-700 cursor-pointer w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1013,\n                columnNumber: 19\n              }, this), selectedDate && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedDate(\"\"),\n                className: \"ml-2 p-1 hover:bg-slate-200 rounded-full\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1024,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1020,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1011,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 999,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 overflow-x-auto pb-2 xl:pb-0 scrollbar-hide\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedCategory(\"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”\"),\n              className: `px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all border ${selectedCategory === \"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”\" ? \"bg-indigo-600 text-white border-indigo-600 shadow-md\" : \"bg-white text-slate-600 border-slate-200 hover:bg-slate-50\"}`,\n              children: \"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1031,\n              columnNumber: 17\n            }, this), categoriesList.map(cat => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedCategory(cat),\n              className: `px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all border ${selectedCategory === cat ? \"bg-indigo-600 text-white border-indigo-600 shadow-md\" : \"bg-white text-slate-600 border-slate-200 hover:bg-slate-50\"}`,\n              children: cat\n            }, cat, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1041,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1030,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 998,\n          columnNumber: 13\n        }, this), filteredNotes.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-24 opacity-60\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-slate-100 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6\",\n            children: /*#__PURE__*/_jsxDEV(Users, {\n              className: \"text-slate-400\",\n              size: 40\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1057,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-slate-600 font-medium text-lg\",\n            children: \"\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E19\\u0E35\\u0E49\\u0E22\\u0E31\\u0E07\\u0E27\\u0E48\\u0E32\\u0E07\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E04\\u0E23\\u0E31\\u0E1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1060,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-slate-400 text-sm mt-2\",\n            children: [\"\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E08\\u0E14\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E44\\u0E14\\u0E49\\u0E40\\u0E25\\u0E22 \\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E08\\u0E30\\u0E16\\u0E39\\u0E01\\u0E41\\u0E0A\\u0E23\\u0E4C\\u0E43\\u0E2B\\u0E49\\u0E17\\u0E38\\u0E01\\u0E04\\u0E19\\u0E17\\u0E35\\u0E48\\u0E21\\u0E35\\u0E23\\u0E2B\\u0E31\\u0E2A \\\"\", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: accessCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1065,\n              columnNumber: 19\n            }, this), \"\\\" \\u0E04\\u0E23\\u0E31\\u0E1A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1063,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1056,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-max\",\n          children: filteredNotes.map(note => /*#__PURE__*/_jsxDEV(NoteCard, {\n            note: note,\n            onEdit: handleUpdateNote,\n            onDelete: handleDeleteNote,\n            onExpand: setExpandedNote\n          }, note.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1071,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1069,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 997,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 935,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 887,\n    columnNumber: 5\n  }, this);\n}\n_s4(SmartNoteApp, \"21zzWxJeY906OuurkFpHa5xdLss=\");\n_c6 = SmartNoteApp;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"AccessScreen\");\n$RefreshReg$(_c2, \"ConfigScreen\");\n$RefreshReg$(_c3, \"FormattedText\");\n$RefreshReg$(_c4, \"FullScreenEditor\");\n$RefreshReg$(_c5, \"NoteCard\");\n$RefreshReg$(_c6, \"SmartNoteApp\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","initializeApp","getFirestore","collection","addDoc","updateDoc","deleteDoc","doc","onSnapshot","query","orderBy","serverTimestamp","Timestamp","arrayUnion","getAuth","signInAnonymously","onAuthStateChanged","Pencil","Save","Trash2","Search","Calendar","Sparkles","Plus","X","Loader2","Bot","Maximize2","Minimize2","Clock","Check","Users","LogOut","KeyRound","AlertCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","GEMINI_API_KEY","isConfigured","includes","app","auth","db","e","console","error","callGeminiAI","text","alert","title","category","summary","systemPrompt","_data$candidates","_data$candidates$","_data$candidates$$con","_data$candidates$$con2","_data$candidates$$con3","response","fetch","method","headers","body","JSON","stringify","contents","parts","generationConfig","responseMimeType","ok","Error","data","json","resultText","candidates","content","firstBrace","indexOf","lastBrace","lastIndexOf","substring","parsedData","parse","notesRaw","Array","isArray","notes","map","n","cleanSummary","join","formatDateThai","timestamp","date","toDate","Date","isNaN","getTime","toLocaleDateString","day","month","year","hour","minute","formatTimeThai","toLocaleTimeString","toDateTimeLocal","tzOffset","getTimezoneOffset","toISOString","slice","AccessScreen","onJoin","_s","code","setCode","handleSubmit","preventDefault","trim","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","autoFocus","disabled","_c","ConfigScreen","_c2","FormattedText","String","split","line","index","trimmed","isHeader","startsWith","match","isNumberList","isBullet","_c3","FullScreenEditor","note","onClose","onSave","categoriesList","_s2","_note$history","setTitle","setContent","setCategory","createdAt","setCreatedAt","isEditingCategory","setIsEditingCategory","tempCategoryName","setTempCategoryName","safeContent","handleSave","fromDate","id","history","length","onClick","onKeyDown","key","filter","c","cat","_c4","NoteCard","onEdit","onDelete","onExpand","_s3","isEditing","setIsEditing","editedTitle","setEditedTitle","editedContent","setEditedContent","handleQuickSave","categoryColors","à¸›à¸£à¸°à¸Šà¸¸à¸¡","à¸à¸²à¸£à¹€à¸‡à¸´à¸™","à¹„à¸­à¹€à¸”à¸µà¸¢à¸˜à¸¸à¸£à¸à¸´à¸ˆ","à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§","à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§","à¸ªà¸¸à¸‚à¸ à¸²à¸ž","à¸—à¸±à¹ˆà¸§à¹„à¸›","themeClass","stopPropagation","rows","_c5","SmartNoteApp","_s4","user","setUser","accessCode","setAccessCode","localStorage","getItem","inputMode","setInputMode","rawText","setRawText","setNotes","loading","setLoading","isProcessing","setIsProcessing","searchQuery","setSearchQuery","selectedCategory","setSelectedCategory","selectedDate","setSelectedDate","expandedNote","setExpandedNote","baseCategories","noteCategories","Set","document","getElementById","script","createElement","src","head","appendChild","initAuth","unsubscribe","collectionPath","replace","q","snapshot","notesData","docs","handleJoinSpace","setItem","handleLogoutSpace","removeItem","getCollectionPath","handleProcessNote","notesArray","colPath","promises","noteData","rawContent","isProcessed","createdBy","uid","Promise","all","handleUpdateNote","newData","oldNote","find","historySnapshot","editedAt","handleDeleteNote","window","confirm","filteredNotes","safeTitle","safeSummary","matchesSearch","toLowerCase","matchesCategory","matchesDate","noteDate","noteDateString","_c6","$RefreshReg$"],"sources":["C:/Users/lipto/Desktop/react/smart-note-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport { initializeApp } from \"firebase/app\";\nimport {\n  getFirestore,\n  collection,\n  addDoc,\n  updateDoc,\n  deleteDoc,\n  doc,\n  onSnapshot,\n  query,\n  orderBy,\n  serverTimestamp,\n  Timestamp,\n  arrayUnion,\n} from \"firebase/firestore\";\nimport { getAuth, signInAnonymously, onAuthStateChanged } from \"firebase/auth\";\nimport {\n  Pencil,\n  Save,\n  Trash2,\n  Search,\n  Calendar,\n  Sparkles,\n  Plus,\n  X,\n  Loader2,\n  Bot,\n  Maximize2,\n  Minimize2,\n  Clock,\n  Check,\n  Users,\n  LogOut,\n  KeyRound,\n  AlertCircle,\n} from \"lucide-react\";\n\n// --- à¸ªà¹ˆà¸§à¸™à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² (à¸•à¹‰à¸­à¸‡à¹à¸à¹‰à¹„à¸‚à¸•à¸£à¸‡à¸™à¸µà¹‰à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ˆà¸£à¸´à¸‡) ---\n// 1. à¹„à¸›à¸—à¸µà¹ˆ console.firebase.google.com à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¹ƒà¸«à¸¡à¹ˆ\n// 2. à¸ªà¸£à¹‰à¸²à¸‡ Web App à¹à¸¥à¸°à¸à¹Šà¸­à¸›à¸›à¸µà¹‰à¸„à¹ˆà¸² config à¸¡à¸²à¹ƒà¸ªà¹ˆà¹à¸—à¸™à¸—à¸µà¹ˆà¸•à¸£à¸‡à¸™à¸µà¹‰à¸„à¸£à¸±à¸š\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBC2seZeDwSnzQv74OxfUap3IilWZi2oUA\", // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n  authDomain: \"zoom-smart-note.firebaseapp.com\", // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n  projectId: \"zoom-smart-note\", // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n  storageBucket: \"zoom-smart-note.firebasestorage.app\", // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n  messagingSenderId: \"391568270505\", // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n  appId: \"1:391568270505:web:f523347b05de36288df5b8\", // à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸™à¸µà¹ˆ\n};\n\n// --- API Key à¸‚à¸­à¸‡ Gemini AI (à¹ƒà¸ªà¹ˆà¸•à¸£à¸‡à¸™à¸µà¹‰) ---\n// à¹„à¸›à¸‚à¸­à¸Ÿà¸£à¸µà¹„à¸”à¹‰à¸—à¸µà¹ˆ aistudio.google.com\nconst GEMINI_API_KEY = \"AIzaSyCH7dU_lGn71g2m0zQuk4flmcyp8QfPqk0\";\n\n// --- à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸£à¸°à¸šà¸š ---\nconst isConfigured =\n  firebaseConfig.apiKey && !firebaseConfig.apiKey.includes(\"AIzaSy...\");\n\nlet app, auth, db;\nif (isConfigured) {\n  try {\n    app = initializeApp(firebaseConfig);\n    auth = getAuth(app);\n    db = getFirestore(app);\n  } catch (e) {\n    console.error(\"Firebase Init Error:\", e);\n  }\n}\n\nconst appId = \"smart-note-production\";\n\n// --- AI Service ---\nconst callGeminiAI = async (text) => {\n  if (!GEMINI_API_KEY) {\n    alert(\"à¸à¸£à¸¸à¸“à¸²à¹ƒà¸ªà¹ˆ GEMINI_API_KEY à¹ƒà¸™à¹‚à¸„à¹‰à¸”à¸à¹ˆà¸­à¸™à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ AI à¸„à¸£à¸±à¸š\");\n    return [\n      {\n        title: \"AI Setup Needed\",\n        category: \"à¸—à¸±à¹ˆà¸§à¹„à¸›\",\n        summary: \"Please configure API Key\",\n      },\n    ];\n  }\n\n  const systemPrompt = `\n    Role: à¸„à¸¸à¸“à¸„à¸·à¸­à¹€à¸¥à¸‚à¸²à¸­à¸±à¸ˆà¸‰à¸£à¸´à¸¢à¸°à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§\n    Task: à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸”à¸´à¸šà¹à¸¥à¹‰à¸§ \"à¹à¸¢à¸à¸«à¸±à¸§à¸‚à¹‰à¸­\" (Split Topics)\n    Instructions:\n    1. à¹à¸¢à¸à¸›à¸£à¸°à¹€à¸”à¹‡à¸™à¹ƒà¸™à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸­à¸­à¸à¹€à¸›à¹‡à¸™à¹‚à¸™à¹‰à¸•à¸¢à¹ˆà¸­à¸¢à¹†\n    2. à¹à¸•à¹ˆà¸¥à¸°à¹‚à¸™à¹‰à¸•à¸•à¹‰à¸­à¸‡à¸¡à¸µ format:\n       - \"title\": à¸Šà¸·à¹ˆà¸­à¹€à¸£à¸·à¹ˆà¸­à¸‡ (à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 10 à¸„à¸³)\n       - \"category\": à¹€à¸¥à¸·à¸­à¸à¸ˆà¸²à¸ [\"à¸›à¸£à¸°à¸Šà¸¸à¸¡\", \"à¸à¸²à¸£à¹€à¸‡à¸´à¸™\", \"à¹„à¸­à¹€à¸”à¸µà¸¢à¸˜à¸¸à¸£à¸à¸´à¸ˆ\", \"à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§\", \"à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§\", \"à¸ªà¸¸à¸‚à¸ à¸²à¸ž\", \"à¸—à¸±à¹ˆà¸§à¹„à¸›\"]\n       - \"summary\": à¸ªà¸£à¸¸à¸›à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰ **Numbered List (1. 2. 3.)** à¸ªà¸³à¸«à¸£à¸±à¸šà¸‚à¸±à¹‰à¸™à¸•à¸­à¸™ à¹à¸¥à¸° **Bullet points (-)** à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸²à¸¢à¸à¸²à¸£à¸—à¸±à¹ˆà¸§à¹„à¸›\n    Output Format: JSON object with key \"notes\" (array of objects).\n  `;\n\n  try {\n    const response = await fetch(\n      `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${GEMINI_API_KEY}`,\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          contents: [\n            {\n              parts: [{ text: systemPrompt }, { text: `Raw Input: \"${text}\"` }],\n            },\n          ],\n          generationConfig: { responseMimeType: \"application/json\" },\n        }),\n      }\n    );\n\n    if (!response.ok) throw new Error(\"AI Request Failed\");\n    const data = await response.json();\n    let resultText = data.candidates?.[0]?.content?.parts?.[0]?.text;\n\n    // Robust parsing\n    const firstBrace = resultText.indexOf(\"{\");\n    const lastBrace = resultText.lastIndexOf(\"}\");\n    if (firstBrace !== -1 && lastBrace !== -1) {\n      resultText = resultText.substring(firstBrace, lastBrace + 1);\n    }\n\n    const parsedData = JSON.parse(resultText);\n    const notesRaw = Array.isArray(parsedData.notes)\n      ? parsedData.notes\n      : [parsedData];\n\n    return notesRaw.map((n) => {\n      let cleanSummary = \"\";\n      if (typeof n.summary === \"string\") {\n        cleanSummary = n.summary;\n      } else if (Array.isArray(n.summary)) {\n        cleanSummary = n.summary.join(\"\\n\");\n      } else {\n        cleanSummary = JSON.stringify(n.summary || \"\");\n      }\n\n      return {\n        title: typeof n.title === \"string\" ? n.title : \"à¹„à¸¡à¹ˆà¸¡à¸µà¸Šà¸·à¹ˆà¸­à¹€à¸£à¸·à¹ˆà¸­à¸‡\",\n        category: typeof n.category === \"string\" ? n.category : \"à¸—à¸±à¹ˆà¸§à¹„à¸›\",\n        summary: cleanSummary,\n      };\n    });\n  } catch (error) {\n    console.error(\"AI Error:\", error);\n    return [\n      {\n        title: \"à¸šà¸±à¸™à¸—à¸¶à¸à¸‰à¸šà¸±à¸šà¸£à¹ˆà¸²à¸‡ (AI à¸‚à¸±à¸”à¸‚à¹‰à¸­à¸‡)\",\n        summary: \"ðŸ“Œ à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹€à¸”à¸´à¸¡\\n- \" + text,\n        category: \"à¸—à¸±à¹ˆà¸§à¹„à¸›\",\n      },\n    ];\n  }\n};\n\nconst formatDateThai = (timestamp) => {\n  if (!timestamp) return \"\";\n  try {\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n    if (isNaN(date.getTime())) return \"\";\n    return date.toLocaleDateString(\"th-TH\", {\n      day: \"numeric\",\n      month: \"short\",\n      year: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  } catch (e) {\n    return \"\";\n  }\n};\n\nconst formatTimeThai = (timestamp) => {\n  if (!timestamp) return \"\";\n  try {\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n    if (isNaN(date.getTime())) return \"\";\n    return date.toLocaleTimeString(\"th-TH\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  } catch (e) {\n    return \"\";\n  }\n};\n\nconst toDateTimeLocal = (timestamp) => {\n  if (!timestamp) return \"\";\n  try {\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n    if (isNaN(date.getTime())) return \"\";\n    const tzOffset = date.getTimezoneOffset() * 60000;\n    return new Date(date - tzOffset).toISOString().slice(0, 16);\n  } catch (e) {\n    return \"\";\n  }\n};\n\n// --- Components ---\n\nconst AccessScreen = ({ onJoin }) => {\n  const [code, setCode] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (code.trim()) {\n      onJoin(code.trim());\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 font-sans\">\n      <div className=\"bg-white p-8 rounded-3xl shadow-xl w-full max-w-md text-center border border-slate-100\">\n        <div className=\"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6\">\n          <KeyRound size={32} />\n        </div>\n        <h1 className=\"text-2xl font-bold text-slate-800 mb-2\">\n          à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸«à¹‰à¸­à¸‡à¸—à¸³à¸‡à¸²à¸™\n        </h1>\n        <p className=\"text-slate-500 mb-6 text-sm\">\n          à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡à¹€à¸žà¸·à¹ˆà¸­à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¸­à¸‡à¸„à¸¸à¸“\n          <br />\n          (à¹€à¸Šà¹ˆà¸™ \"Zoom2026\")\n        </p>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <input\n            type=\"text\"\n            value={code}\n            onChange={(e) => setCode(e.target.value)}\n            placeholder=\"à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­à¸«à¹‰à¸­à¸‡ à¸«à¸£à¸·à¸­ à¹ƒà¸ªà¹ˆà¸£à¸«à¸±à¸ª...\"\n            className=\"w-full px-4 py-3 text-center text-lg border-2 border-slate-200 rounded-xl focus:border-indigo-500 focus:outline-none transition-colors\"\n            autoFocus\n          />\n          <button\n            type=\"submit\"\n            disabled={!code.trim()}\n            className=\"w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200\"\n          >\n            à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst ConfigScreen = () => (\n  <div className=\"min-h-screen flex items-center justify-center bg-slate-100 p-4 font-sans\">\n    <div className=\"bg-white p-8 rounded-xl shadow-lg max-w-lg text-center\">\n      <div className=\"mx-auto bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mb-4 text-red-500\">\n        <AlertCircle size={32} />\n      </div>\n      <h1 className=\"text-xl font-bold text-red-500 mb-4\">\n        à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Firebase\n      </h1>\n      <p className=\"text-slate-600 mb-4 leading-relaxed\">\n        à¸à¸£à¸¸à¸“à¸²à¹à¸à¹‰à¹„à¸‚à¹„à¸Ÿà¸¥à¹Œ <code>App.jsx</code> à¹à¸¥à¸°à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²{\" \"}\n        <code>firebaseConfig</code> (à¸ˆà¸²à¸ Firebase) à¹à¸¥à¸°{\" \"}\n        <code>GEMINI_API_KEY</code> (à¸ˆà¸²à¸ AI Studio) à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¹à¸­à¸žà¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰à¸„à¸£à¸±à¸š\n      </p>\n      <p className=\"text-sm text-slate-400\">\n        (à¸”à¸¹à¸§à¸´à¸˜à¸µà¸à¸²à¸£à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œà¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¸—à¸µà¹ˆà¸œà¸¡à¹ƒà¸«à¹‰à¹„à¸›à¸„à¸£à¸±à¸š)\n      </p>\n    </div>\n  </div>\n);\n\nconst FormattedText = ({ text }) => {\n  if (!text) return null;\n\n  let content = text;\n  if (typeof text !== \"string\") {\n    if (Array.isArray(text)) content = text.join(\"\\n\");\n    else if (typeof text === \"object\") content = JSON.stringify(text);\n    else content = String(text);\n  }\n\n  return (\n    <div className=\"space-y-1\">\n      {content.split(\"\\n\").map((line, index) => {\n        const trimmed = line.trim();\n        if (!trimmed) return <div key={index} className=\"h-2\"></div>;\n\n        const isHeader =\n          trimmed.startsWith(\"ðŸ“Œ\") ||\n          trimmed.startsWith(\"ðŸ“\") ||\n          trimmed.match(/^à¸«à¸±à¸§à¸‚à¹‰à¸­/);\n        const isNumberList = trimmed.match(/^\\d+\\./);\n        const isBullet =\n          trimmed.startsWith(\"-\") ||\n          trimmed.startsWith(\"â€¢\") ||\n          trimmed.startsWith(\"*\");\n\n        return (\n          <div\n            key={index}\n            className={`\n            ${isHeader\n                ? \"font-bold text-indigo-900 mt-4 mb-2 text-base\"\n                : \"text-slate-600\"\n              } \n            ${isNumberList || isBullet ? \"pl-4\" : \"pl-0\"}\n            leading-relaxed\n          `}\n          >\n            {line}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nconst FullScreenEditor = ({ note, onClose, onSave, categoriesList }) => {\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [category, setCategory] = useState(\"à¸—à¸±à¹ˆà¸§à¹„à¸›\");\n  const [createdAt, setCreatedAt] = useState(\"\");\n  const [isEditingCategory, setIsEditingCategory] = useState(false);\n  const [tempCategoryName, setTempCategoryName] = useState(\"\");\n\n  useEffect(() => {\n    if (note) {\n      setTitle(typeof note.title === \"string\" ? note.title : \"\");\n      let safeContent = \"\";\n      if (typeof note.summary === \"string\") safeContent = note.summary;\n      else if (Array.isArray(note.summary))\n        safeContent = note.summary.join(\"\\n\");\n      else safeContent = JSON.stringify(note.summary || \"\");\n\n      setContent(safeContent);\n      setCategory(typeof note.category === \"string\" ? note.category : \"à¸—à¸±à¹ˆà¸§à¹„à¸›\");\n      setCreatedAt(toDateTimeLocal(note.createdAt));\n    }\n  }, [note]);\n\n  const handleSave = () => {\n    let timestamp = note.createdAt;\n    if (createdAt) {\n      try {\n        timestamp = Timestamp.fromDate(new Date(createdAt));\n      } catch (e) {\n        console.error(\"Invalid date\");\n      }\n    }\n\n    onSave(note.id, {\n      title,\n      summary: content,\n      category,\n      createdAt: timestamp,\n    });\n    onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 bg-white/95 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in zoom-in-95 duration-200 font-sans\">\n      <div className=\"bg-white w-full max-w-4xl h-[95vh] rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden\">\n        <div className=\"px-6 py-4 border-b flex justify-between items-center bg-slate-50\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"bg-indigo-100 p-2 rounded-lg text-indigo-600\">\n              <Maximize2 size={20} />\n            </div>\n            <div>\n              <h2 className=\"font-bold text-slate-800\">à¹à¸à¹‰à¹„à¸‚à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸šà¸šà¹€à¸•à¹‡à¸¡à¸ˆà¸­</h2>\n              <p className=\"text-xs text-slate-500\">\n                {note.history?.length > 0\n                  ? `à¹à¸à¹‰à¹„à¸‚à¹à¸¥à¹‰à¸§ ${note.history.length} à¸„à¸£à¸±à¹‰à¸‡`\n                  : \"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚\"}\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-slate-200 rounded-full text-slate-500\"\n          >\n            <Minimize2 size={24} />\n          </button>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-8 space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block\">\n                à¸§à¸±à¸™à¸—à¸µà¹ˆà¹à¸¥à¸°à¹€à¸§à¸¥à¸²à¸šà¸±à¸™à¸—à¸¶à¸\n              </label>\n              <div className=\"flex items-center gap-2 bg-slate-50 p-2 rounded-xl border border-slate-200 focus-within:ring-2 focus-within:ring-indigo-100\">\n                <Calendar size={18} className=\"text-slate-400 ml-2\" />\n                <input\n                  type=\"datetime-local\"\n                  value={createdAt}\n                  onChange={(e) => setCreatedAt(e.target.value)}\n                  className=\"bg-transparent border-none focus:outline-none text-slate-700 w-full font-medium\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block\">\n                à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ (à¹à¸à¹‰à¹„à¸‚à¸Šà¸·à¹ˆà¸­à¹„à¸”à¹‰)\n              </label>\n\n              {isEditingCategory ? (\n                <div className=\"flex items-center gap-2 h-[42px]\">\n                  <input\n                    value={tempCategoryName}\n                    onChange={(e) => setTempCategoryName(e.target.value)}\n                    className=\"flex-1 border border-indigo-300 rounded-lg px-3 py-2 text-sm focus:outline-indigo-500\"\n                    placeholder=\"à¸žà¸´à¸¡à¸žà¹Œà¸Šà¸·à¹ˆà¸­à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ...\"\n                    autoFocus\n                    onKeyDown={(e) => {\n                      if (e.key === \"Enter\") {\n                        if (tempCategoryName.trim())\n                          setCategory(tempCategoryName.trim());\n                        setIsEditingCategory(false);\n                      }\n                    }}\n                  />\n                  <button\n                    onClick={() => {\n                      if (tempCategoryName.trim())\n                        setCategory(tempCategoryName.trim());\n                      setIsEditingCategory(false);\n                    }}\n                    className=\"p-2 bg-green-500 text-white rounded-lg hover:bg-green-600\"\n                  >\n                    <Check size={16} />\n                  </button>\n                  <button\n                    onClick={() => setIsEditingCategory(false)}\n                    className=\"p-2 bg-slate-200 text-slate-500 rounded-lg hover:bg-slate-300\"\n                  >\n                    <X size={16} />\n                  </button>\n                </div>\n              ) : (\n                <div className=\"flex flex-col gap-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"flex items-center justify-between gap-3 bg-indigo-50 border border-indigo-200 text-indigo-700 px-3 py-2 rounded-lg font-medium text-sm w-full md:w-auto min-w-[150px]\">\n                      <span>{category}</span>\n                      <button\n                        onClick={() => {\n                          setTempCategoryName(category);\n                          setIsEditingCategory(true);\n                        }}\n                        className=\"hover:bg-indigo-200 rounded p-1 text-indigo-400 hover:text-indigo-700 transition-colors\"\n                        title=\"à¹à¸à¹‰à¹„à¸‚à¸Šà¸·à¹ˆà¸­à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ\"\n                      >\n                        <Pencil size={14} />\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"flex gap-2 flex-wrap mt-1\">\n                    {categoriesList\n                      .filter((c) => c !== category)\n                      .slice(0, 5)\n                      .map((cat) => (\n                        <button\n                          key={cat}\n                          onClick={() => setCategory(cat)}\n                          className=\"px-2 py-1 rounded text-xs bg-slate-100 text-slate-500 hover:bg-slate-200 transition-colors border border-transparent\"\n                        >\n                          {cat}\n                        </button>\n                      ))}\n                    <button\n                      onClick={() => {\n                        setTempCategoryName(\"\");\n                        setIsEditingCategory(true);\n                      }}\n                      className=\"px-2 py-1 rounded text-xs border border-dashed border-slate-300 text-slate-400 hover:text-indigo-600 hover:border-indigo-400 flex items-center gap-1\"\n                    >\n                      <Plus size={10} /> à¹€à¸žà¸´à¹ˆà¸¡à¹ƒà¸«à¸¡à¹ˆ\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <hr className=\"border-slate-100\" />\n\n          <div>\n            <label className=\"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block\">\n              à¸«à¸±à¸§à¸‚à¹‰à¸­à¹€à¸£à¸·à¹ˆà¸­à¸‡\n            </label>\n            <input\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              className=\"w-full text-3xl font-bold text-slate-900 border-b-2 border-slate-100 focus:border-indigo-500 focus:outline-none pb-2 placeholder-slate-300 transition-colors\"\n              placeholder=\"à¹ƒà¸ªà¹ˆà¸Šà¸·à¹ˆà¸­à¹€à¸£à¸·à¹ˆà¸­à¸‡...\"\n            />\n          </div>\n\n          <div className=\"h-full\">\n            <label className=\"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block\">\n              à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” (1. 2. 3. à¸«à¸£à¸·à¸­ -)\n            </label>\n            <textarea\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n              className=\"w-full h-[400px] text-lg text-slate-700 leading-relaxed resize-none focus:outline-none p-4 -ml-4 rounded-xl border border-transparent focus:border-slate-100 focus:bg-slate-50 transition-all font-sans\"\n              placeholder=\"à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”...\"\n            />\n          </div>\n        </div>\n\n        <div className=\"px-6 py-4 border-t bg-slate-50 flex justify-end gap-3\">\n          <button\n            onClick={onClose}\n            className=\"px-6 py-2.5 rounded-xl text-slate-500 hover:bg-slate-200 font-medium transition-colors\"\n          >\n            à¸¢à¸à¹€à¸¥à¸´à¸\n          </button>\n          <button\n            onClick={handleSave}\n            className=\"px-6 py-2.5 rounded-xl bg-indigo-600 text-white shadow-lg shadow-indigo-200 hover:bg-indigo-700 font-medium transition-all flex items-center gap-2\"\n          >\n            <Save size={18} /> à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸¥à¸°à¸ªà¸³à¸£à¸­à¸‡à¸›à¸£à¸°à¸§à¸±à¸•à¸´\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst NoteCard = ({ note, onEdit, onDelete, onExpand }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedTitle, setEditedTitle] = useState(\"\");\n  const [editedContent, setEditedContent] = useState(\"\");\n\n  useEffect(() => {\n    setEditedTitle(typeof note.title === \"string\" ? note.title : \"\");\n    let safeContent = \"\";\n    if (typeof note.summary === \"string\") safeContent = note.summary;\n    else if (Array.isArray(note.summary)) safeContent = note.summary.join(\"\\n\");\n    else safeContent = JSON.stringify(note.summary || \"\");\n    setEditedContent(safeContent);\n  }, [note]);\n\n  const handleQuickSave = () => {\n    onEdit(note.id, { title: editedTitle, summary: editedContent });\n    setIsEditing(false);\n  };\n\n  const categoryColors = {\n    à¸›à¸£à¸°à¸Šà¸¸à¸¡: \"bg-blue-50 border-blue-200 text-blue-700\",\n    à¸à¸²à¸£à¹€à¸‡à¸´à¸™: \"bg-green-50 border-green-200 text-green-700\",\n    à¹„à¸­à¹€à¸”à¸µà¸¢à¸˜à¸¸à¸£à¸à¸´à¸ˆ: \"bg-amber-50 border-amber-200 text-amber-700\",\n    à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§: \"bg-pink-50 border-pink-200 text-pink-700\",\n    à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§: \"bg-purple-50 border-purple-200 text-purple-700\",\n    à¸ªà¸¸à¸‚à¸ à¸²à¸ž: \"bg-teal-50 border-teal-200 text-teal-700\",\n    à¸—à¸±à¹ˆà¸§à¹„à¸›: \"bg-gray-50 border-gray-200 text-gray-700\",\n  };\n\n  const themeClass =\n    categoryColors[note.category] ||\n    \"bg-indigo-50 border-indigo-200 text-indigo-700\";\n\n  return (\n    <div\n      className={`group relative flex flex-col p-5 rounded-2xl border bg-white transition-all duration-300 hover:-translate-y-1 hover:shadow-lg ${isEditing ? \"z-10 ring-2 ring-indigo-500\" : \"\"\n        }`}\n    >\n      <div className=\"flex justify-between items-start mb-3\">\n        <span\n          className={`text-[10px] uppercase tracking-wide font-bold px-2.5 py-1 rounded-md border ${themeClass}`}\n        >\n          {typeof note.category === \"string\" ? note.category : \"à¸—à¸±à¹ˆà¸§à¹„à¸›\"}\n        </span>\n\n        <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onExpand(note);\n            }}\n            className=\"p-1.5 hover:bg-indigo-50 hover:text-indigo-600 rounded-full text-gray-400 transition-colors\"\n            title=\"à¸”à¸¹à¹€à¸•à¹‡à¸¡à¸ˆà¸­\"\n          >\n            <Maximize2 size={16} />\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              setIsEditing(!isEditing);\n            }}\n            className=\"p-1.5 hover:bg-gray-100 rounded-full text-gray-400 transition-colors\"\n            title=\"à¹à¸à¹‰à¹„à¸‚à¸”à¹ˆà¸§à¸™\"\n          >\n            <Pencil size={16} />\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onDelete(note.id);\n            }}\n            className=\"p-1.5 hover:bg-red-50 hover:text-red-500 rounded-full text-gray-400 transition-colors\"\n            title=\"à¸¥à¸š\"\n          >\n            <Trash2 size={16} />\n          </button>\n        </div>\n      </div>\n\n      <div className=\"space-y-3 flex-1\">\n        {isEditing ? (\n          <div onClick={(e) => e.stopPropagation()}>\n            <input\n              value={editedTitle}\n              onChange={(e) => setEditedTitle(e.target.value)}\n              className=\"w-full font-bold text-gray-900 text-lg border-b pb-1 focus:outline-none focus:border-indigo-500\"\n            />\n            <textarea\n              value={editedContent}\n              onChange={(e) => setEditedContent(e.target.value)}\n              className=\"w-full text-sm text-gray-700 resize-none focus:outline-none bg-gray-50 p-2 rounded-lg border border-transparent focus:border-indigo-200 font-sans\"\n              rows={6}\n            />\n            <div className=\"flex justify-end gap-2 mt-2\">\n              <button\n                onClick={() => setIsEditing(false)}\n                className=\"px-3 py-1 text-xs text-gray-500\"\n              >\n                à¸¢à¸à¹€à¸¥à¸´à¸\n              </button>\n              <button\n                onClick={handleQuickSave}\n                className=\"px-3 py-1 text-xs bg-indigo-600 text-white rounded-md\"\n              >\n                à¸šà¸±à¸™à¸—à¸¶à¸\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div onClick={() => onExpand(note)} className=\"cursor-pointer\">\n            <h3 className=\"font-bold text-gray-900 text-lg mb-2 leading-tight hover:text-indigo-700 transition-colors\">\n              {typeof note.title === \"string\" ? note.title : \"à¹„à¸¡à¹ˆà¸¡à¸µà¸«à¸±à¸§à¸‚à¹‰à¸­\"}\n            </h3>\n            <div className=\"text-sm line-clamp-6\">\n              <FormattedText text={note.summary} />\n            </div>\n          </div>\n        )}\n      </div>\n\n      {!isEditing && (\n        <div className=\"mt-5 pt-3 border-t border-gray-100 flex items-center justify-between text-xs text-gray-400 font-medium\">\n          <div className=\"flex items-center gap-1\">\n            <Calendar size={12} />\n            {formatDateThai(note.createdAt)}\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <Clock size={12} />\n            {formatTimeThai(note.createdAt)}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default function SmartNoteApp() {\n  // --- All hooks must be called first, before any conditional returns ---\n  const [user, setUser] = useState(null);\n  const [accessCode, setAccessCode] = useState(\n    () => localStorage.getItem(\"zoom_note_access_code\") || \"\"\n  );\n  const [inputMode, setInputMode] = useState(false);\n  const [rawText, setRawText] = useState(\"\");\n  const [notes, setNotes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”\");\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const [expandedNote, setExpandedNote] = useState(null);\n\n  const baseCategories = [\n    \"à¸›à¸£à¸°à¸Šà¸¸à¸¡\",\n    \"à¸à¸²à¸£à¹€à¸‡à¸´à¸™\",\n    \"à¹„à¸­à¹€à¸”à¸µà¸¢à¸˜à¸¸à¸£à¸à¸´à¸ˆ\",\n    \"à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§\",\n    \"à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§\",\n    \"à¸ªà¸¸à¸‚à¸ à¸²à¸ž\",\n    \"à¸—à¸±à¹ˆà¸§à¹„à¸›\",\n  ];\n  const categoriesList = useMemo(() => {\n    const noteCategories = notes\n      .map((n) => n.category)\n      .filter((c) => typeof c === \"string\");\n    return [...new Set([...baseCategories, ...noteCategories])];\n  }, [notes]);\n\n  // --- Auto-inject Tailwind for CodeSandbox ---\n  useEffect(() => {\n    if (!document.getElementById(\"tailwind-script\")) {\n      const script = document.createElement(\"script\");\n      script.src = \"https://cdn.tailwindcss.com\";\n      script.id = \"tailwind-script\";\n      document.head.appendChild(script);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!isConfigured) return;\n\n    const initAuth = async () => {\n      await signInAnonymously(auth);\n    };\n    initAuth();\n    const unsubscribe = onAuthStateChanged(auth, setUser);\n    return () => unsubscribe();\n  }, []);\n\n  // Sync Access Code to Public Collection\n  useEffect(() => {\n    if (!isConfigured || !user || !accessCode) {\n      if (!accessCode) setLoading(false);\n      return;\n    }\n\n    setLoading(true);\n    // Use PUBLIC path with accessCode as a key\n    const collectionPath = `smart_notes_shared_${accessCode.replace(\n      /[^a-zA-Z0-9]/g,\n      \"_\"\n    )}`;\n\n    const q = query(\n      collection(db, \"artifacts\", appId, \"public\", \"data\", collectionPath),\n      orderBy(\"createdAt\", \"desc\")\n    );\n\n    const unsubscribe = onSnapshot(\n      q,\n      (snapshot) => {\n        const notesData = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setNotes(notesData);\n        setLoading(false);\n      },\n      (error) => {\n        console.error(error);\n        setLoading(false);\n      }\n    );\n\n    return () => unsubscribe();\n  }, [user, accessCode]);\n\n  const handleJoinSpace = (code) => {\n    setAccessCode(code);\n    localStorage.setItem(\"zoom_note_access_code\", code);\n  };\n\n  const handleLogoutSpace = () => {\n    setAccessCode(\"\");\n    localStorage.removeItem(\"zoom_note_access_code\");\n    setNotes([]);\n  };\n\n  const getCollectionPath = () => {\n    return `smart_notes_shared_${accessCode.replace(/[^a-zA-Z0-9]/g, \"_\")}`;\n  };\n\n  const handleProcessNote = async () => {\n    if (!rawText.trim()) return;\n    setIsProcessing(true);\n    const notesArray = await callGeminiAI(rawText);\n    try {\n      const colPath = getCollectionPath();\n      const promises = notesArray.map((noteData) =>\n        addDoc(collection(db, \"artifacts\", appId, \"public\", \"data\", colPath), {\n          ...noteData,\n          rawContent: rawText,\n          createdAt: serverTimestamp(),\n          isProcessed: true,\n          history: [],\n          createdBy: user.uid,\n        })\n      );\n      await Promise.all(promises);\n      setRawText(\"\");\n      setInputMode(false);\n    } catch (error) {\n      console.error(error);\n      alert(\"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸\");\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleUpdateNote = async (id, newData) => {\n    try {\n      const oldNote = notes.find((n) => n.id === id);\n      if (!oldNote) return;\n\n      const historySnapshot = {\n        title: oldNote.title,\n        summary: oldNote.summary,\n        category: oldNote.category,\n        editedAt: new Date().toISOString(),\n      };\n\n      const colPath = getCollectionPath();\n      await updateDoc(\n        doc(db, \"artifacts\", appId, \"public\", \"data\", colPath, id),\n        {\n          ...newData,\n          history: arrayUnion(historySnapshot),\n        }\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleDeleteNote = async (id) => {\n    if (window.confirm(\"à¸„à¸¸à¸“à¹à¸™à¹ˆà¹ƒà¸ˆà¸§à¹ˆà¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸šà¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸µà¹‰? (à¸¥à¸šà¹à¸¥à¹‰à¸§à¸à¸¹à¹‰à¸„à¸·à¸™à¹„à¸¡à¹ˆà¹„à¸”à¹‰)\")) {\n      try {\n        const colPath = getCollectionPath();\n        await deleteDoc(\n          doc(db, \"artifacts\", appId, \"public\", \"data\", colPath, id)\n        );\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n\n  const filteredNotes = useMemo(() => {\n    return notes.filter((note) => {\n      const safeTitle = typeof note.title === \"string\" ? note.title : \"\";\n      const safeSummary = typeof note.summary === \"string\" ? note.summary : \"\";\n\n      const matchesSearch = (safeTitle + safeSummary)\n        .toLowerCase()\n        .includes(searchQuery.toLowerCase());\n      const matchesCategory =\n        selectedCategory === \"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”\" || note.category === selectedCategory;\n\n      let matchesDate = true;\n      if (selectedDate && note.createdAt) {\n        try {\n          const noteDate = note.createdAt.toDate\n            ? note.createdAt.toDate()\n            : new Date(note.createdAt);\n          const noteDateString = noteDate.toISOString().split(\"T\")[0];\n          matchesDate = noteDateString === selectedDate;\n        } catch (e) {\n          matchesDate = false;\n        }\n      }\n\n      return matchesSearch && matchesCategory && matchesDate;\n    });\n  }, [notes, searchQuery, selectedCategory, selectedDate]);\n\n  // --- Now conditional returns are safe ---\n  if (!isConfigured) return <ConfigScreen />;\n\n  if (!accessCode) {\n    return (\n      <>\n        <AccessScreen onJoin={handleJoinSpace} />\n      </>\n    );\n  }\n\n  if (loading)\n    return (\n      <div className=\"h-screen flex items-center justify-center text-indigo-600 bg-white font-sans\">\n        <Loader2 className=\"animate-spin mr-2\" /> à¸à¸³à¸¥à¸±à¸‡à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸«à¹‰à¸­à¸‡ {accessCode}\n        ...\n      </div>\n    );\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 text-slate-800 font-sans\">\n      {expandedNote && (\n        <FullScreenEditor\n          note={expandedNote}\n          onClose={() => setExpandedNote(null)}\n          onSave={handleUpdateNote}\n          categoriesList={categoriesList}\n        />\n      )}\n\n      <header className=\"sticky top-0 z-30 bg-white/90 backdrop-blur-xl border-b border-slate-200 px-6 py-4 flex items-center justify-between shadow-sm\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"bg-indigo-600 text-white p-2 rounded-xl shadow-lg shadow-indigo-200\">\n            <Bot size={24} />\n          </div>\n          <div>\n            <h1 className=\"font-bold text-xl text-slate-900 tracking-tight flex items-center gap-2\">\n              {accessCode}\n              <span className=\"text-xs bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded-full font-normal\">\n                Shared Space\n              </span>\n            </h1>\n            <p className=\"text-xs font-medium text-slate-500\">\n              à¹€à¸¥à¸‚à¸²à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§à¸‚à¸­à¸‡à¸„à¸¸à¸“à¸‹à¸¹à¸¡\n            </p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          {!inputMode && (\n            <button\n              onClick={() => setInputMode(true)}\n              className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-full shadow-lg shadow-indigo-300/50 flex items-center gap-2 transition-all active:scale-95 transform hover:-translate-y-0.5\"\n            >\n              <Plus size={20} />{\" \"}\n              <span className=\"hidden sm:inline font-medium\">à¸ˆà¸”à¸šà¸±à¸™à¸—à¸¶à¸</span>\n            </button>\n          )}\n          <button\n            onClick={handleLogoutSpace}\n            className=\"bg-slate-100 hover:bg-slate-200 text-slate-600 p-2.5 rounded-full transition-colors\"\n            title=\"à¸­à¸­à¸à¸ˆà¸²à¸à¸«à¹‰à¸­à¸‡\"\n          >\n            <LogOut size={20} />\n          </button>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto p-4 md:p-8\">\n        {inputMode ? (\n          <div className=\"max-w-3xl mx-auto animate-in fade-in slide-in-from-bottom-8 duration-500\">\n            <div className=\"flex gap-4 mb-6\">\n              <div className=\"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center flex-shrink-0\">\n                <Bot size={20} className=\"text-indigo-600\" />\n              </div>\n              <div className=\"bg-white p-4 rounded-2xl rounded-tl-none shadow-sm border border-slate-100 text-slate-700\">\n                <p>\n                  à¸žà¸£à¹‰à¸­à¸¡à¸„à¸£à¸±à¸š! à¸žà¸´à¸¡à¸žà¹Œà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸”à¸´à¸šà¸¡à¸²à¹„à¸”à¹‰à¹€à¸¥à¸¢\n                  à¹€à¸”à¸µà¹‹à¸¢à¸§à¸œà¸¡à¹à¸¢à¸à¸«à¸±à¸§à¸‚à¹‰à¸­à¹ƒà¸«à¹‰à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ (à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸µà¹‰à¸ˆà¸°à¹€à¸«à¹‡à¸™à¸—à¸¸à¸à¸„à¸™à¹ƒà¸™à¸«à¹‰à¸­à¸‡{\" \"}\n                  <b>{accessCode}</b> à¸„à¸£à¸±à¸š)\n                </p>\n              </div>\n            </div>\n\n            <div className=\"bg-white rounded-3xl shadow-xl shadow-slate-200/50 overflow-hidden border border-slate-100 relative\">\n              <div className=\"absolute top-4 right-4 z-10\">\n                <button\n                  onClick={() => !isProcessing && setInputMode(false)}\n                  className=\"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-slate-600 transition-colors\"\n                >\n                  <X size={20} />\n                </button>\n              </div>\n\n              <textarea\n                value={rawText}\n                onChange={(e) => setRawText(e.target.value)}\n                disabled={isProcessing}\n                placeholder=\"à¸žà¸´à¸¡à¸žà¹Œà¸—à¸µà¹ˆà¸™à¸µà¹ˆ...\"\n                className=\"w-full h-[320px] p-6 text-lg text-slate-700 placeholder:text-slate-300 resize-none focus:outline-none leading-relaxed\"\n                autoFocus\n              />\n\n              <div className=\"p-4 bg-slate-50 border-t border-slate-100 flex justify-between items-center\">\n                <span className=\"text-xs text-slate-400 pl-2\">\n                  {rawText.length > 0\n                    ? `${rawText.length} à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£`\n                    : \"à¸£à¸­à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥...\"}\n                </span>\n\n                <button\n                  onClick={handleProcessNote}\n                  disabled={!rawText.trim() || isProcessing}\n                  className=\"bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white px-6 py-3 rounded-xl font-medium shadow-lg hover:shadow-xl transition-all flex items-center gap-2 active:scale-95\"\n                >\n                  {isProcessing ? (\n                    <>\n                      <Loader2 size={18} className=\"animate-spin\" />{\" \"}\n                      à¸à¸³à¸¥à¸±à¸‡à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥...\n                    </>\n                  ) : (\n                    <>\n                      <Sparkles size={18} /> à¸ªà¸£à¸¸à¸›à¹à¸¥à¸°à¹à¸¢à¸à¸«à¸±à¸§à¸‚à¹‰à¸­à¸—à¸±à¸™à¸—à¸µ\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"space-y-8\">\n            <div className=\"flex flex-col xl:flex-row gap-4 justify-between bg-white p-4 rounded-2xl shadow-sm border border-slate-100\">\n              <div className=\"flex flex-col sm:flex-row gap-3 w-full xl:w-auto\">\n                <div className=\"flex items-center gap-3 bg-slate-50 rounded-xl px-4 py-2.5 border border-slate-200 focus-within:ring-2 focus-within:ring-indigo-100 transition-all flex-1 sm:flex-none sm:w-64\">\n                  <Search size={18} className=\"text-slate-400\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"à¸„à¹‰à¸™à¸«à¸²...\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                    className=\"bg-transparent border-none focus:outline-none text-sm w-full text-slate-700\"\n                  />\n                </div>\n\n                <div className=\"flex items-center gap-2 bg-slate-50 rounded-xl px-4 py-2.5 border border-slate-200 text-slate-600 hover:bg-white transition-colors cursor-pointer w-full sm:w-auto\">\n                  <Calendar size={18} className=\"text-slate-400\" />\n                  <input\n                    type=\"date\"\n                    value={selectedDate}\n                    onChange={(e) => setSelectedDate(e.target.value)}\n                    className=\"bg-transparent border-none focus:outline-none text-sm text-slate-700 cursor-pointer w-full\"\n                  />\n                  {selectedDate && (\n                    <button\n                      onClick={() => setSelectedDate(\"\")}\n                      className=\"ml-2 p-1 hover:bg-slate-200 rounded-full\"\n                    >\n                      <X size={14} />\n                    </button>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"flex gap-2 overflow-x-auto pb-2 xl:pb-0 scrollbar-hide\">\n                <button\n                  onClick={() => setSelectedCategory(\"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”\")}\n                  className={`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all border ${selectedCategory === \"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”\"\n                    ? \"bg-indigo-600 text-white border-indigo-600 shadow-md\"\n                    : \"bg-white text-slate-600 border-slate-200 hover:bg-slate-50\"\n                    }`}\n                >\n                  à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”\n                </button>\n                {categoriesList.map((cat) => (\n                  <button\n                    key={cat}\n                    onClick={() => setSelectedCategory(cat)}\n                    className={`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all border ${selectedCategory === cat\n                      ? \"bg-indigo-600 text-white border-indigo-600 shadow-md\"\n                      : \"bg-white text-slate-600 border-slate-200 hover:bg-slate-50\"\n                      }`}\n                  >\n                    {cat}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {filteredNotes.length === 0 ? (\n              <div className=\"text-center py-24 opacity-60\">\n                <div className=\"bg-slate-100 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6\">\n                  <Users className=\"text-slate-400\" size={40} />\n                </div>\n                <h3 className=\"text-slate-600 font-medium text-lg\">\n                  à¸«à¹‰à¸­à¸‡à¸™à¸µà¹‰à¸¢à¸±à¸‡à¸§à¹ˆà¸²à¸‡à¸­à¸¢à¸¹à¹ˆà¸„à¸£à¸±à¸š\n                </h3>\n                <p className=\"text-slate-400 text-sm mt-2\">\n                  à¹€à¸£à¸´à¹ˆà¸¡à¸ˆà¸”à¸šà¸±à¸™à¸—à¸¶à¸à¹„à¸”à¹‰à¹€à¸¥à¸¢ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸°à¸–à¸¹à¸à¹à¸Šà¸£à¹Œà¹ƒà¸«à¹‰à¸—à¸¸à¸à¸„à¸™à¸—à¸µà¹ˆà¸¡à¸µà¸£à¸«à¸±à¸ª \"\n                  <b>{accessCode}</b>\" à¸„à¸£à¸±à¸š\n                </p>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-max\">\n                {filteredNotes.map((note) => (\n                  <NoteCard\n                    key={note.id}\n                    note={note}\n                    onEdit={handleUpdateNote}\n                    onDelete={handleDeleteNote}\n                    onExpand={setExpandedNote}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}